(this["webpackJsonpautocomplete-search-demo"]=this["webpackJsonpautocomplete-search-demo"]||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(23)},,,,,function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,,function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(5),s=r.n(c),o=(r(13),r(14),r(1)),u=r.n(o),l=r(2),i=r(3),d=r(7),h=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:throw r=e.sent,(n=new Error(r.errorMessage||r.error||r)).statusCode=t.status,n.statusText=t.statusText,n.dynMsg=Object(i.a)({},r.dynMsg),n.code=r.errorCode,n;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",h(t));case 2:return e.t0=t.headers,e.next=5,t.json();case 5:return e.t1=e.sent,e.abrupt("return",{headers:e.t0,data:e.t1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://www.mocky.io/v2/5ba8efb23100007200c2750c").then(m).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(r(16),function(e){var t=e.searchQuery,r=e.onChange,n=e.onKeyDown;return a.a.createElement("div",{id:"searchField"},a.a.createElement("label",{htmlFor:"search"},"Search Button"),a.a.createElement("input",{id:"search",name:"search","data-testid":"search-input",className:"searchInput "+(t.length?"active":""),autoComplete:"off",onChange:r,onKeyDown:n,"aria-label":"Search users by ID, address, name, pincode, etc",placeholder:"Search users by ID, address, name, pincode, etc",value:t,autoFocus:!0}))}),p=(r(17),function(e,t){var r=e.split(new RegExp("(".concat(t,")"),"gi"));return a.a.createElement("span",null,r.map((function(e,r){return a.a.createElement("span",{key:r,style:e.toLowerCase()===t.toLowerCase()?{color:"#75A7EA"}:{}},e)})))}),E=function(e){var t=e.state,r=e.setHover,n=t.searchedUsers,c=t.hoveredItem,s=t.searchQuery;return a.a.createElement("div",{id:"search-autocomplete",className:"autocomplete-suggestions"},a.a.createElement("div",{id:"results",role:"listbox"},n.map((function(e,t){return a.a.createElement("div",{className:"suggestion "+(c===t?"active":""),key:e.id,id:"suggestion".concat(t),role:"option","aria-selected":c===t,onMouseMove:function(){r({hoveredItem:t})}},a.a.createElement("div",{className:"bold"},p(e.id,s)),a.a.createElement("div",{className:"italics pad025"},p(e.name,s)),e.items.filter((function(e){return~e.toLowerCase().indexOf(s)})).length>0&&a.a.createElement("div",null,a.a.createElement("ul",null,a.a.createElement("li",null,p('"'.concat(s,'" found in items'),s)))),a.a.createElement("div",{className:"pad025"},p(e.address,s)))}))))},g=(r(18),function(){return a.a.createElement("div",{id:"no-results",className:"noUser",role:"listbox"},"No User Found")}),w=(r(19),function(e){var t=e.visible,r=e.onClickHandler;return a.a.createElement("span",{className:"closeIcon "+(t?"":"hidden"),onClick:r},a.a.createElement("svg",{width:"25px",height:"25px",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})))}),b=r(6),y=r.n(b),I=(r(22),{users:[],searchQuery:"",searchedUsers:[],hoveredItem:-1}),x=function(){var e=Object(n.useReducer)((function(e,t){return Object(i.a)(Object(i.a)({},e),t)}),I),t=Object(d.a)(e,2),r=t[0],c=t[1],s=y.a.debounce((function(e){var t=function(e,t){return e.filter((function(e){var r=e.id,n=e.name,a=e.items,c=e.address,s=e.pincode;return~r.toLowerCase().indexOf(t)||~n.toLowerCase().indexOf(t)||~c.toLowerCase().indexOf(t)||~s.toLowerCase().indexOf(t)||a.filter((function(e){return~e.toLowerCase().indexOf(t)})).length}))}(r.users,e);c({searchedUsers:t})}),500),o=function(){c({searchQuery:"",searchedUsers:[],hoveredItem:-1})},h=function(e){var t=e.keyCode;if(40===t&&(r.hoveredItem<r.searchedUsers.length-1?c({hoveredItem:r.hoveredItem+1}):r.hoveredItem===r.searchedUsers.length-1&&c({hoveredItem:0}),console.log("moveDownCalled")),38===t&&(r.hoveredItem>0?c({hoveredItem:r.hoveredItem-1}):0===r.hoveredItem&&c({hoveredItem:r.searchedUsers.length-1})),13===t){var n=r.hoveredItem>-1?r.hoveredItem:0;c({searchQuery:r.searchedUsers[n].name,searchedUsers:[],hoveredItem:-1})}};return Object(n.useEffect)((function(){var e=document.getElementById("suggestion".concat(r.hoveredItem));return e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),function(){}}),[r.hoveredItem]),Object(n.useEffect)((function(){Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:t=e.sent,c({users:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{visible:r.searchQuery.length>0,onClickHandler:o}),a.a.createElement("main",{className:"container"},a.a.createElement(v,{searchQuery:r.searchQuery,onChange:function(e){var t=e.currentTarget.value;t.length?(c({searchQuery:t,hoveredItem:-1}),s(t)):o()},onKeyDown:function(e){return h(e)}}),r.searchedUsers.length>0&&a.a.createElement(E,{state:r,setHover:c}),r.searchQuery.length>0&&r.searchedUsers.length<1&&a.a.createElement(g,null)))};var C=function(){return a.a.createElement("div",{className:"text-center"},a.a.createElement("header",null,a.a.createElement("h1",null,"Autocomplete search Demo")),a.a.createElement(x,null))};s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.4fd6677e.chunk.js.map