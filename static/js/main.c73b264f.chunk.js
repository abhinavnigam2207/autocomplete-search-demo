(this["webpackJsonplocus-assignment"]=this["webpackJsonplocus-assignment"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(5),c=n.n(s),o=(n(13),n(14),n(1)),u=n.n(o),i=n(2),l=n(3),d=n(7),h=function(){var e=Object(i.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:throw n=e.sent,(r=new Error(n.errorMessage||n.error||n)).statusCode=t.status,r.statusText=t.statusText,r.dynMsg=Object(l.a)({},n.dynMsg),r.code=n.errorCode,r;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",h(t));case 2:return e.t0=t.headers,e.next=5,t.json();case 5:return e.t1=e.sent,e.abrupt("return",{headers:e.t0,data:e.t1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://www.mocky.io/v2/5ba8efb23100007200c2750c").then(m).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(n(16),function(e){var t=e.searchQuery,n=e.onChange,r=e.onKeyDown;return a.a.createElement("div",{id:"searchField"},a.a.createElement("label",{htmlFor:"search"},"Search Button"),a.a.createElement("input",{id:"search",name:"search","data-testid":"search-input",className:"searchInput "+(t.length?"active":""),autoComplete:"off",onChange:n,onKeyDown:r,"aria-label":"Search users by ID, address, name, pincode, etc",placeholder:"Search users by ID, address, name, pincode, etc",value:t,autoFocus:!0}))}),p=(n(17),function(e,t){var n=e.split(new RegExp("(".concat(t,")"),"gi"));return a.a.createElement("span",null,n.map((function(e,n){return a.a.createElement("span",{key:n,style:e.toLowerCase()===t.toLowerCase()?{color:"#75A7EA"}:{}},e)})))}),g=function(e){var t=e.state,n=e.setHover,r=t.searchedUsers,s=t.hoveredItem,c=t.searchQuery;return a.a.createElement("div",{id:"search-autocomplete",className:"autocomplete-suggestions"},a.a.createElement("div",{id:"results",role:"listbox"},r.map((function(e,t){return a.a.createElement("div",{className:"suggestion "+(s===t?"active":""),key:e.id,id:"suggestion".concat(t),role:"option","aria-selected":s===t,onMouseMove:function(){n({hoveredItem:t})}},a.a.createElement("div",{className:"bold"},p(e.id,c)),a.a.createElement("div",{className:"italics pad025"},p(e.name,c)),e.items.filter((function(e){return~e.toLowerCase().indexOf(c)})).length>0&&a.a.createElement("div",null,a.a.createElement("ul",null,a.a.createElement("li",null,p('"'.concat(c,'" found in items'),c)))),a.a.createElement("div",{className:"pad025"},p(e.address,c)))}))))},E=(n(18),function(){return a.a.createElement("div",{id:"no-results",className:"noUser",role:"listbox"},"No User Found")}),w=(n(19),function(e){var t=e.visible,n=e.onClickHandler;return a.a.createElement("span",{className:"closeIcon "+(t?"":"hidden"),onClick:n},a.a.createElement("svg",{width:"25px",height:"25px",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})))}),b=n(6),y=n.n(b),I=(n(22),{users:[],searchQuery:"",searchedUsers:[],hoveredItem:-1}),x=function(){var e=Object(r.useReducer)((function(e,t){return Object(l.a)(Object(l.a)({},e),t)}),I),t=Object(d.a)(e,2),n=t[0],s=t[1],c=y.a.debounce((function(e){var t=function(e,t){return e.filter((function(e){var n=e.id,r=e.name,a=e.items,s=e.address,c=e.pincode;return~n.toLowerCase().indexOf(t)||~r.toLowerCase().indexOf(t)||~s.toLowerCase().indexOf(t)||~c.toLowerCase().indexOf(t)||a.filter((function(e){return~e.toLowerCase().indexOf(t)})).length}))}(n.users,e);s({searchedUsers:t})}),500),o=function(){s({searchQuery:"",searchedUsers:[],hoveredItem:-1})},h=function(e){var t=e.keyCode;if(40===t&&(n.hoveredItem<n.searchedUsers.length-1?s({hoveredItem:n.hoveredItem+1}):n.hoveredItem===n.searchedUsers.length-1&&s({hoveredItem:0}),console.log("moveDownCalled")),38===t&&(n.hoveredItem>0?s({hoveredItem:n.hoveredItem-1}):0===n.hoveredItem&&s({hoveredItem:n.searchedUsers.length-1})),13===t){var r=n.hoveredItem>-1?n.hoveredItem:0;s({searchQuery:n.searchedUsers[r].name,searchedUsers:[],hoveredItem:-1})}};return Object(r.useEffect)((function(){var e=document.getElementById("suggestion".concat(n.hoveredItem));return e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),function(){}}),[n.hoveredItem]),Object(r.useEffect)((function(){Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:t=e.sent,s({users:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{visible:n.searchQuery.length>0,onClickHandler:o}),a.a.createElement("main",{className:"container"},a.a.createElement(v,{searchQuery:n.searchQuery,onChange:function(e){var t=e.currentTarget.value;t.length?(s({searchQuery:t,hoveredItem:-1}),c(t)):o()},onKeyDown:function(e){return h(e)}}),n.searchedUsers.length>0&&a.a.createElement(g,{state:n,setHover:s}),n.searchQuery.length>0&&n.searchedUsers.length<1&&a.a.createElement(E,null)))};var C=function(){return a.a.createElement("div",{className:"text-center"},a.a.createElement("header",null,a.a.createElement("h1",null,"Locus Assignment")),a.a.createElement(x,null))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.c73b264f.chunk.js.map